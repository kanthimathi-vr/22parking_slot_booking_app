{% extends 'base.html' %}
{% block content %}
<h1>Available Parking Slots</h1>

<form method="get" class="filter-form">
    <label>Filter by Date:</label>
    <select name="date" onchange="this.form.submit()">
        <option value="">All</option>
        {% for date in dates %}
            <option value="{{ date }}" {% if date == selected_date %}selected{% endif %}>{{ date }}</option>
        {% endfor %}
    </select>
</form>

<ul class="slot-list">
    {% for slot in slots %}
    <li>
        <div>
            <strong>Slot ID:</strong> {{ slot.id }} <br>
            <strong>Location:</strong> {{ slot.location }} <br>
            <strong>Date:</strong> {{ slot.date }}
        </div>
        <a class="btn" href="{{ url_for('book', slot_id=slot.id) }}">Book Now</a>
    </li>
    {% else %}
    <p>No available slots.</p>
    {% endfor %}
</ul>
{% endblock %}
